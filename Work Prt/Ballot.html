<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ballots</title>
    <style>
        /* Container for the tables to align them side by side */
        .table-container {
            display: flex; /* Use Flexbox for layout */
            justify-content: space-between; /* Space tables evenly */
            gap: 20px; /* Add space between tables */
            flex-wrap: wrap; /* Allow tables to wrap if the screen is too small */
            padding: 20px; /* Add padding around the container */
        }
        /* Style for each table */
        table {
            width: 100%; /* Make each table full width of its container */
            border-collapse: collapse; /* Collapse borders */
        }
        th, td {
            border: 1px solid #ddd; /* Light gray border */
            padding: 8px; /* Space inside cells */
            text-align: left; /* Align text to the left */
        }
        th {
            background-color: #f2f2f2; /* Light gray background for headers */
        }
        .col-large {
            width: 30%; /* Width for larger columns */
        }
        .col-medium {
            width: 20%; /* Width for medium columns */
        }
        .checkbox-column {
            width: 10%; /* Width for checkbox column */
        }
        /* Style to ensure tables are evenly sized within their containers */
        .table-container table {
            flex: 1; /* Allow tables to grow and shrink equally */
            max-width: 33%; /* Ensure each table takes up one-third of the container width */
        }
        .submit-container {
            margin: 20px 0;
            text-align: center; /* Center align the button */
        }
        .submit-container button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h1>Voting Ballots</h1>
    <h2>Please vote for only 1 choice per ballot</h2>

    <!-- Container holding the tables -->
    <div class="table-container">
        <!-- Placeholder for tables -->
    </div>

    <div class="submit-container">
        <button id="submitVote">Submit Vote</button>
    </div>

    <script>
        // Define data for the parties
        const partiesData = {
            national: [
                { name: "Party 1", logo: "path/to/your/image1.jpg", code: "PTY 1" },
                { name: "Party 2", logo: "path/to/your/image2.jpg", code: "PTY 2" },
                { name: "Party 3", logo: "path/to/your/image3.jpg", code: "PTY 3" },
                { name: "Party 4", logo: "path/to/your/image4.jpg", code: "PTY 4" },
                { name: "Party 5", logo: "path/to/your/image5.jpg", code: "PTY 5" },
                { name: "Party 6", logo: "path/to/your/image5.jpg", code: "PTY 6"}
            ],
            regional: [
                { name: "Party A", logo: "path/to/your/imageA.jpg", code: "PTY A" },
                { name: "Party B", logo: "path/to/your/imageB.jpg", code: "PTY B" },
                { name: "Party C", logo: "path/to/your/imageC.jpg", code: "PTY C" },
                { name: "Party D", logo: "path/to/your/imageD.jpg", code: "PTY D" },
                { name: "Party E", logo: "path/to/your/imageE.jpg", code: "PTY E" }
            ],
            local: [
                { name: "Party X", logo: "path/to/your/imageX.jpg", code: "PTY X" },
                { name: "Party Y", logo: "path/to/your/imageY.jpg", code: "PTY Y" },
                { name: "Party Z", logo: "path/to/your/imageZ.jpg", code: "PTY Z" },
                { name: "Party W", logo: "path/to/your/imageW.jpg", code: "PTY W" },
                { name: "Party V", logo: "path/to/your/imageV.jpg", code: "PTY V" }
            ]
        };

        // Define the headers for the table
        const headers = ["Party name", "Logo", "Party code", "Vote"];

        // Define the number of tables and their captions
        const tablesData = [
            { id: "table1", caption: "National elections", data: partiesData.national },
            { id: "table2", caption: "Regional elections", data: partiesData.regional },
            { id: "table3", caption: "Local elections", data: partiesData.local }
        ];

        // Generate the tables dynamically
        function generateTables(tablesData) {
            const tableContainer = document.querySelector('.table-container');

            tablesData.forEach(tableData => {
                // Create a table element
                const table = document.createElement('table');
                table.id = tableData.id;

                // Create and set caption
                const caption = table.createCaption();
                caption.textContent = tableData.caption;

                // Create the header row
                const thead = table.createTHead();
                const headerRow = thead.insertRow();
                headers.forEach(headerText => {
                    const th = document.createElement('th');
                    th.textContent = headerText;
                    headerRow.appendChild(th);
                });

                // Create the body rows
                const tbody = table.createTBody();
                tableData.data.forEach((party, index) => {
                    const row = tbody.insertRow();
                    row.insertCell().textContent = party.name;
                    row.insertCell().innerHTML = `<img src="${party.logo}" alt="Logo" width="100" height="50">`;
                    row.insertCell().textContent = party.code;
                    row.insertCell().innerHTML = `<input type="checkbox" name="checkbox${index + 1}">`;
                });

                // Append the table to the container
                tableContainer.appendChild(table);
            });
        }

        // Call the function to generate tables
        generateTables(tablesData);

        document.addEventListener('DOMContentLoaded', function() {
            function handleCheckboxClick(event) {
                const checkboxes = event.target.closest('table').querySelectorAll('input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    if (checkbox !== event.target) {
                        checkbox.checked = false;
                    }
                });
            }
            
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('click', handleCheckboxClick);
            });

            document.getElementById('submitVote').addEventListener('click', function() {
                const tables = ['table1', 'table2', 'table3'];
                let allChecked = true;

                tables.forEach(tableId => {
                    const table = document.getElementById(tableId);
                    const checkboxes = table.querySelectorAll('input[type="checkbox"]');
                    const anyChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);
                    
                    if (!anyChecked) {
                        allChecked = false;
                    }
                });

                if (allChecked) {
                    // Collect checked options and submit
                    document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                        console.log(checkbox.name); // Replace with your submit logic
                    });
                    alert('All ballots have selected options. Submitting your votes...');
                    // Here you can add your AJAX call or form submission code
                } else {
                    alert('Please select an option in each ballot before submitting.');
                }
            });
        });
    </script>

</body>
</html>
